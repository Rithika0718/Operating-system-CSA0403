#include <stdio.h>
#include <stdlib.h>

int main() {
    FILE *fp;
    char ch;

    /* Create and Write to File */
    fp = fopen("filemgmt.txt", "w");
    if (fp == NULL) {
        printf("File creation failed\n");
        return 1;
    }
    fprintf(fp, "Operating Systems Lab\n");
    fprintf(fp, "File Management Operations\n");
    fclose(fp);

    /* Read File */
    fp = fopen("filemgmt.txt", "r");
    printf("File contents after creation:\n");
    while ((ch = fgetc(fp)) != EOF)
        putchar(ch);
    fclose(fp);

    /* Append Data */
    fp = fopen("filemgmt.txt", "a");
    fprintf(fp, "\nAppending new data into file\n");
    fclose(fp);

    /* Read Updated File */
    fp = fopen("filemgmt.txt", "r");
    printf("\nFile contents after appending:\n");
    while ((ch = fgetc(fp)) != EOF)
        putchar(ch);
    fclose(fp);

    /* Delete File */
    if (remove("filemgmt.txt") == 0)
        printf("\nFile deleted successfully\n");
    else
        printf("\nUnable to delete the file\n");

    return 0;
}
